<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/dashboard_admin.css">
    <link rel="icon" href="/assets/favicon.svg" type="image/svg+xml">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.all.min.js"></script>
    <script src="/js/tareas.js"></script>
</head>
<body>
    <!-- Overlay de carga global -->
    <div id="pageLoader" class="page-loader" aria-hidden="true">
        <div class="loader-spinner"></div>
        <div class="loader-label">Cargando…</div>
    </div>
    <!-- Barra superior reemplazando el sidebar -->
    <header class="topbar">
        <div class="topbar-inner">
            <div class="sidebar-header">
                <h2><i class="fas fa-laugh-wink"></i> Nexxuz</h2>
            </div>
            <!-- Menú visible siempre; se removió el botón de despliegue -->
            <ul class="sidebar-menu">
                <li><a href="#usuarios"><i class="fas fa-users"></i> Usuarios</a></li>
                <li><a href="/correo"><i class="fas fa-envelope"></i> Correo <span id="topCorreoBadge" class="menu-bubble" style="display:none">0</span></a></li>
                <li><a href="#proyectos"><i class="fas fa-project-diagram"></i> Gestión de Proyectos</a></li>
                <li><a href="#revicion_proyectos"><i class="fas fa-clipboard-check"></i> Revisión de proyectos</a></li>
                <li><a href="#gestion_miembros"><i class="fas fa-user-cog"></i> Gestión de Miembros</a></li>
                <li><a href="#registro_cambios"><i class="fas fa-history"></i> Registro de Cambios</a></li>
                <li class="profile">
                    <button id="profileBtn" class="profile-btn" aria-label="Perfil">
                        <span id="profileAvatar" class="avatar-circle" title="Ver perfil">U</span>
                    </button>
                </li>
                <li class="logout"><a href="#" id="logoutBtn"><i class="fas fa-right-from-bracket"></i> Cerrar sesión</a></li>
            </ul>
        </div>
    </header>

    <main class="main-content">
        <section id="usuarios" class="dashboard-section">
            <h2 class="page-title">Gestión de Usuarios</h2>

            <!-- Lista de usuarios a pantalla completa, sin cabecera de card -->
            <div id="seccionListaUsuarios" class="fullbleed-section">
                <div class="user-toolbar">
                    <div class="search-container">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" id="busquedaUsuario" class="form-control search-input" placeholder="Buscar por nombre, email o rol...">
                    </div>
                    <div class="toolbar-right">
                        <div class="records-control">
                            <label for="cantidadRegistros">Mostrar</label>
                            <select id="cantidadRegistros" class="form-control form-control-sm records-select">
                                <option value="5">5</option>
                                <option value="7" selected>7</option>
                                <option value="10">10</option>
                                <option value="30">30</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                            <label>registros</label>
                        </div>
                        <a href="/admin/usuarios/nuevo" class="btn btn-primary btn-sm" id="btnIrCrearUsuario">
                            <i class="fas fa-user-plus"></i> Agregar usuario
                        </a>
                    </div>
                </div>

                <div class="table-responsive fullbleed-table">
                    <table id="tablaUsuarios" class="table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Email</th>
                                <th>Rol</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Usuarios se cargan aquí -->
                        </tbody>
                    </table>
                </div>

                <div class="table-footer">
                    <div class="footer-left">
                        <span id="infoRegistros">Mostrando 0 de 0 registros</span>
                    </div>
                    <div class="footer-right">
                        <div class="pagination">
                            <button id="btnAnterior" class="btn btn-sm btn-outline-primary" disabled><i class="fas fa-chevron-left"></i> Anterior</button>
                            <span id="paginaActual" class="page-indicator">Página 1</span>
                            <button id="btnSiguiente" class="btn btn-sm btn-outline-primary" disabled>Siguiente <i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="proyectos" class="dashboard-section">
            <h2>Gestión de Proyectos</h2>

            <!-- Formulario de crear proyecto movido a página independiente: /admin/proyectos/nuevo -->
            <div class="card">
                <div class="card-header">
                    <div style="display: flex; justify-content: flex-end; width: 100%;">
                        <a href="/admin/proyectos/nuevo" class="btn btn-primary btn-sm" id="btnIrCrearProyecto">
                            <i class="fas fa-plus-circle"></i> Crear Proyecto
                        </a>
                    </div>
                </div>
                <div class="table-responsive fullbleed-table">
                    <table id="tablaProyectos" class="table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Fecha de inicio</th>
                                <th>Fecha de finalización</th>
                                <th>Jefe de Proyecto</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Proyectos se cargan aquí -->
                        </tbody>
                    </table>
                </div>
                <div class="table-footer">
                    <div class="footer-left">
                        <span id="infoRegistrosProy">Mostrando 0 a 0 de 0 registros</span>
                    </div>
                    <div class="footer-right">
                        <div class="pagination">
                            <button id="btnAnteriorProy" class="btn btn-sm btn-outline-primary" disabled><i class="fas fa-chevron-left"></i> Anterior</button>
                            <span id="paginaActualProy" class="page-indicator">Página 1</span>
                            <button id="btnSiguienteProy" class="btn btn-sm btn-outline-primary" disabled>Siguiente <i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Nueva sección: Revisión de proyectos -->
        <section id="revicion_proyectos" class="dashboard-section">
            <h2>Revisión de proyectos</h2>

            <!-- Grid de Proyectos -->
            <div class="card" id="proyectos">
                <div class="card-header actions-right">
                    <button class="btn btn-primary btn-sm" id="btnAbrirAsignacionTareas">
                        <i class="fas fa-tasks"></i> Asignación de Tareas
                    </button>
                </div>
                <div class="card-body">
                    <div id="proyectosGrid" class="projects-grid"></div>
                </div>
            </div>

            <!-- Detalle de Proyecto -->
            <div class="card" id="proyectoDetalleCard" style="display:none;">
                <div class="card-header">
                    <h3 id="proyectoDetalleTitulo"><i class="fas fa-tasks"></i> Tareas del Proyecto</h3>
                </div>
                <div class="card-body">
                    <!-- Información del proyecto -->
                    <div id="proyectoInfo" class="project-info">
                        <div class="project-lead"><strong>Líder de Proyecto:</strong> <span id="proyectoInfoLider">—</span></div>
                    </div>
                    <!-- Tabla de tareas del proyecto (PRIMERO) -->
                    <div id="proyectoTasks" class="project-tasks">
                        <h4><i class="fas fa-list-check"></i> Tareas del Proyecto</h4>
                        <table id="tablaTareasProyecto" class="tasks-table">
                            <thead>
                                <tr>
                                    <th>Título</th>
                                    <th>Descripción</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td colspan="4" class="text-center">—</td></tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- Tabla de miembros del proyecto -->
                    <div id="proyectoTeam" class="project-team">
                        <h4><i class="fas fa-users"></i> Miembros del Proyecto</h4>
                        <table id="tablaMiembrosProyecto" class="team-table">
                            <thead>
                                <tr>
                                    <th>Nombre</th>
                                    <th>Email</th>
                                    <th>Rol</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td colspan="4" class="text-center">—</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="gestion_miembros" class="dashboard-section">
            <h2>Gestión de Miembros</h2>
            <div class="members-grid">
                <div class="members-left">
                    <h3 class="members-subtitle">Asignar Miembro a Proyecto</h3>
                    <div class="assign-box">
                        <form id="formAsignarMiembro">
                            <div class="form-group">
                                <label for="proyectoAsignacion">Proyecto:</label>
                                <select id="proyectoAsignacion" name="proyectoAsignacion" class="form-control" required>
                                    <option value="">Seleccione un proyecto...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="miembroAsignacion">Miembro:</label>
                                <select id="miembroAsignacion" name="miembroAsignacion" class="form-control" required>
                                    <option value="">Seleccione un miembro...</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary btn-center">Asignar Miembro</button>
                        </form>
                    </div>
                </div>
                <div class="members-divider" aria-hidden="true"></div>
                <div class="members-right">
                    <div class="stat-cards">
                        <div class="stat-card primary">
                            <h3><i class="fas fa-project-diagram"></i> Proyectos</h3>
                            <h2 id="totalProyectos">0</h2>
                        </div>
                        <div class="stat-card success">
                            <h3><i class="fas fa-users"></i> Miembros</h3>
                            <h2 id="totalMiembros">0</h2>
                        </div>
                        <div class="stat-card info">
                            <h3><i class="fas fa-tasks"></i> Asignaciones</h3>
                            <h2 id="totalAsignaciones">0</h2>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="registro_cambios" class="dashboard-section">
            <h2>Registro de Cambios</h2>
            <div class="tabla-controles">
                <div class="selector-cantidad" style="gap: 12px;">
                    <label for="selectProyectoCambios">Proyecto</label>
                    <select id="selectProyectoCambios" class="records-select">
                        <option value="__all__">Todos los proyectos</option>
                    </select>
                </div>
            </div>
            <div class="tabla-container">
                <table id="tablaRegistroCambios" class="tasks-table">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Proyecto</th>
                            <th>Tipo</th>
                            <th>Detalle</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td colspan="4" class="text-center">Cargando registro de cambios...</td></tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <div id="perfilModal" class="modal" aria-hidden="true" style="display:none;">
        <div class="modal-content perfil-modal-content">
            <button type="button" class="close" id="closePerfilModal" aria-label="Cerrar">&times;</button>
            <h3 class="modal-title"><i class="fas fa-user-circle"></i> Mi Perfil</h3>
            <div class="perfil-body">
                <div class="perfil-avatar-wrap">
                    <div class="avatar-circle avatar-lg" id="perfilAvatarPreview">U</div>
                    <div class="avatar-actions">
                        <label for="perfilFoto" class="btn btn-secondary btn-sm"><i class="fas fa-camera"></i> Cambiar foto</label>
                        <input type="file" id="perfilFoto" accept="image/*" style="display:none;" />
                    </div>
                </div>
                <form id="perfilForm" autocomplete="off">
                    <div class="form-group">
                        <label for="perfilNombre"><i class="fas fa-id-card"></i> Nombre</label>
                        <input type="text" id="perfilNombre" class="form-control" placeholder="Tu nombre" />
                    </div>
                    <div class="form-group">
                        <label for="perfilEmail"><i class="fas fa-envelope"></i> Correo</label>
                        <input type="email" id="perfilEmail" class="form-control" placeholder="tu@correo.com" />
                    </div>
                    <div class="form-group">
                        <label for="perfilRol"><i class="fas fa-user-tag"></i> Rol</label>
                        <input type="text" id="perfilRol" class="form-control" placeholder="—" disabled />
                    </div>
                    <div class="form-group">
                        <label for="perfilLastLogin"><i class="fas fa-clock"></i> Último ingreso</label>
                        <input type="text" id="perfilLastLogin" class="form-control" placeholder="—" disabled />
                    </div>
                    <div class="form-group">
                        <label for="perfilPwdActual"><i class="fas fa-lock"></i> Contraseña actual</label>
                        <div class="pwd-row">
                            <input type="password" id="perfilPwdActual" class="form-control" placeholder="Escribe tu contraseña" />
                            <button type="button" id="btnVerificarPwd" class="btn btn-outline-primary btn-verify">Verificar</button>
                        </div>
                        <small id="msgVerificacionPwd" class="text-muted"></small>
                    </div>
                    <div class="form-group">
                        <label for="perfilPwdNueva"><i class="fas fa-key"></i> Nueva contraseña</label>
                        <input type="password" id="perfilPwdNueva" class="form-control" placeholder="Mínimo 6 caracteres" disabled />
                    </div>
                    <div class="form-group">
                        <label for="perfilPwdConfirm"><i class="fas fa-key"></i> Confirmar nueva contraseña</label>
                        <input type="password" id="perfilPwdConfirm" class="form-control" placeholder="Repite la nueva contraseña" disabled />
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelarPerfil">Cancelar</button>
                        <button type="submit" class="btn btn-primary" id="guardarPerfil">Guardar cambios</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Overlay global de carga con blur -->
    <div id="globalLoader" class="loading-overlay" aria-hidden="true" role="status">
        <div class="loader-content">
            <div class="loader-spinner" aria-hidden="true"></div>
            <div class="loader-text">Cargando sección…</div>
        </div>
    </div>
    <!-- Modal Editar Usuario -->
    <div id="modalEditarUsuario" class="modal">
        <div class="modal-content">
            <div class="card-header">
                <h3><i class="fas fa-user-edit"></i> Editar Usuario</h3>
                <span class="close" id="closeEditarUsuario">&times;</span>
            </div>
            <form id="formEditarUsuario">
                <input type="hidden" id="editarUsuarioId">
                
                <div class="form-group">
                    <label for="editarNombre">Nombre:</label>
                    <input type="text" id="editarNombre" name="editarNombre" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="editarEmail">Email:</label>
                    <input type="email" id="editarEmail" name="editarEmail" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label>Contraseña:</label>
                    <div class="form-actions" style="margin-top:8px; display:flex; gap:8px;">
                      <button type="button" id="btnAbrirCambiarPwd" class="btn btn-outline-danger"><i class="fas fa-lock"></i> Cambiar contraseña</button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="editarRol">Rol:</label>
                    <select id="editarRol" name="editarRol" class="form-control">
                        <option value="administrador">Administrador</option>
                        <option value="jefe_proyecto">Jefe de Proyecto</option>
                        <option value="miembro">Miembro</option>
                        <option value="ceo">CEO</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="editarEstado">Estado:</label>
                    <select id="editarEstado" name="editarEstado" class="form-control">
                        <option value="activo">Activo</option>
                        <option value="inactivo">Inactivo</option>
                    </select>
                </div>
                
                <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Guardar Cambios</button>
            </form>
        </div>
    </div>

    <!-- Modal Resumen (clic en tarjetas de la derecha) -->
    <div id="modalResumen" class="modal" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalResumenTitulo"><i class="fas fa-info-circle"></i> Resumen</h3>
                <button class="modal-close" id="modalResumenCerrar" aria-label="Cerrar">&times;</button>
            </div>
            <div class="modal-body">
                <ul id="modalResumenLista" class="modal-list"></ul>
            </div>
            <div class="modal-footer">
                <div class="modal-pagination">
                    <button class="btn btn-outline-primary" id="modalResumenPrev">Anterior</button>
                    <span id="modalResumenPage">Página 1</span>
                    <button class="btn btn-outline-primary" id="modalResumenNext">Siguiente</button>
                </div>
                <button class="btn btn-secondary" id="modalResumenCerrar2">Cerrar</button>
            </div>
        </div>
    </div>

    <!-- Modal Editar Proyecto -->
    <div id="modalEditarProyecto" class="modal">
        <div class="modal-content">
            <div class="card-header">
                <h3><i class="fas fa-edit"></i> Editar Proyecto</h3>
                <span class="close" id="closeEditarProyecto">&times;</span>
            </div>
            <form id="formEditarProyecto">
                <input type="hidden" id="editarProyectoId">
                
                <div class="form-group">
                    <label for="editarNombreProyecto">Nombre del Proyecto:</label>
                    <input type="text" id="editarNombreProyecto" name="editarNombreProyecto" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="editarFechaInicio">Fecha de inicio:</label>
                    <input type="date" id="editarFechaInicio" name="editarFechaInicio" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="editarFechaTermino">Fecha de finalización:</label>
                    <input type="date" id="editarFechaTermino" name="editarFechaTermino" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="editarBuscadorJefe">Jefe de Proyecto:</label>
                    <div class="buscador-jefe">
                        <div class="input-group">
                            <input type="text" id="editarBuscadorJefe" class="form-control" placeholder="Buscar jefe de proyecto...">
                            <span id="editarLimpiarJefeBtn" style="display: none; position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; color: #e74a3b; z-index: 10; font-size: 16px; background-color: rgba(255, 255, 255, 0.8); border-radius: 50%; padding: 2px 5px;">
                                <i class="fas fa-times"></i>
                            </span>
                        </div>
                        <div id="editarResultadosJefe" class="resultados-jefe"></div>
                        <input type="hidden" id="editarJefeProyectoId" name="editarJefeProyectoId">
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Guardar Cambios</button>
            </form>
        </div>
    </div>
    
    <!-- Modal Eliminar Usuario -->
    <div id="modalEliminarUsuario" class="modal">
        <div class="modal-content">
            <div class="card-header">
                <h3><i class="fas fa-trash-alt"></i> Eliminar Usuario</h3>
                <span class="close" id="closeEliminarUsuario">&times;</span>
            </div>
            <div class="form-group" style="text-align: center; margin: 20px 0;">
                <i class="fas fa-exclamation-triangle" style="font-size: 3rem; color: #e74a3b; margin-bottom: 15px;"></i>
                <p>¿Estás seguro de que deseas eliminar este usuario?</p>
                <p style="font-size: 0.9rem; color: #858796;">Esta acción no se puede deshacer.</p>
            </div>
            <div style="display: flex; justify-content: center; gap: 10px;">
                <button id="confirmarEliminarUsuario" class="btn btn-danger"><i class="fas fa-trash-alt"></i> Eliminar</button>
                <button class="btn btn-secondary" onclick="document.getElementById('modalEliminarUsuario').style.display='none'"><i class="fas fa-times"></i> Cancelar</button>
            </div>
        </div>
    </div>
    
    <!-- Modal Eliminar Proyecto -->
    <div id="modalEliminarProyecto" class="modal">
        <div class="modal-content">
            <div class="card-header">
                <h3><i class="fas fa-trash-alt"></i> Eliminar Proyecto</h3>
                <span class="close" id="closeEliminarProyecto">&times;</span>
            </div>
            <div class="form-group" style="text-align: center; margin: 20px 0;">
                <i class="fas fa-exclamation-triangle" style="font-size: 3rem; color: #e74a3b; margin-bottom: 15px;"></i>
                <p>¿Estás seguro de que deseas eliminar este proyecto?</p>
                <p style="font-size: 0.9rem; color: #858796;">Esta acción no se puede deshacer y eliminará todas las asignaciones asociadas.</p>
            </div>
            <div style="display: flex; justify-content: center; gap: 10px;">
                <button id="confirmarEliminarProyecto" class="btn btn-danger"><i class="fas fa-trash-alt"></i> Eliminar</button>
                <button class="btn btn-secondary" onclick="document.getElementById('modalEliminarProyecto').style.display='none'"><i class="fas fa-times"></i> Cancelar</button>
            </div>
        </div>
    </div>
    
    <!-- Modal Editar Tarea -->
    <div id="modalEditarTarea" class="modal">
        <div class="modal-content">
            <div class="card-header">
                <h3><i class="fas fa-edit"></i> Editar Tarea</h3>
                <span class="close" id="closeEditarTarea">&times;</span>
            </div>
            <form id="formEditarTarea">
                <input type="hidden" id="editarTareaId">
                <input type="hidden" id="editarTareaProyectoId">
                
                <div class="form-group">
                    <label for="editarTareaTitulo">Título:</label>
                    <input type="text" id="editarTareaTitulo" name="editarTareaTitulo" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="editarTareaDescripcion">Descripción:</label>
                    <textarea id="editarTareaDescripcion" name="editarTareaDescripcion" class="form-control" rows="4"></textarea>
                </div>
                
                <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Guardar Cambios</button>
            </form>
        </div>
    </div>
    
    <!-- Modal Asignación de Tareas -->
    <div id="modalAsignacionTareas" class="modal">
        <div class="modal-content">
            <div class="card-header">
                <h3><i class="fas fa-tasks"></i> Asignación de Tareas</h3>
                <span class="close" id="closeModalAsignacionTareas">&times;</span>
            </div>
            <form id="formAsignarTarea">
                <div class="form-group">
                    <label for="proyectoTarea">Proyecto:</label>
                    <select id="proyectoTarea" name="proyectoTarea" class="form-control" required>
                        <option value="">Seleccione un proyecto...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="tituloTarea">Título de la Tarea:</label>
                    <input type="text" id="tituloTarea" name="tituloTarea" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="descripcionTarea">Descripción:</label>
                    <textarea id="descripcionTarea" name="descripcionTarea" class="form-control" rows="3" required></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" id="cancelarModalAsignacion">Cancelar</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Crear Tarea
                    </button>
                </div>
            </form>
        </div>
    </div>
    
<!-- Anime.js para animaciones del menú -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" defer></script>
<script src="/dashboard_admin.js" defer></script>
</body>
</html>
    <!-- Mini Modal Cambiar Contraseña -->
    <div id="modalCambiarPwd" class="modal" aria-hidden="true">
        <div class="modal-content" style="max-width:460px;">
            <div class="card-header">
                <h3><i class="fas fa-lock"></i> Cambiar Contraseña</h3>
                <span class="close" id="closeCambiarPwd">&times;</span>
            </div>
            <form id="formCambiarPwd">
                <input type="hidden" id="cambiarPwdUserId">
                <div class="form-group">
                    <label for="cambiarPwdNueva">Nueva contraseña</label>
                    <div class="password-container" style="position: relative;">
                        <input type="password" id="cambiarPwdNueva" class="form-control" required>
                        <i class="fas fa-eye" id="toggleNuevaPwd" style="position:absolute; right:10px; top:10px; cursor:pointer;"></i>
                    </div>
                </div>
                <div class="form-group">
                    <label for="cambiarPwdConfirm">Confirmar contraseña</label>
                    <div class="password-container" style="position: relative;">
                        <input type="password" id="cambiarPwdConfirm" class="form-control" required>
                        <i class="fas fa-eye" id="toggleConfirmPwd" style="position:absolute; right:10px; top:10px; cursor:pointer;"></i>
                    </div>
                </div>
                <button type="submit" id="submitCambiarPwd" class="btn btn-primary"><i class="fas fa-save"></i> Guardar</button>
            </form>
        </div>
    </div>
